# base settings

# disable RBENV_VERSION definition
set-environment -gu RBENV_VERSION

## enable clipboard on MacOS X
## see. http://d.hatena.ne.jp/koseki2/20110816/TmuxCopy
#set-option -g default-command "reattach-to-user-namespace -l zsh"

# mouse support
set -g mouse on

set -g repeat-time 1000

# key mappings
## vi binding
setw -g mode-keys vi

# setting the delay between prefix and command
set -s escape-time 1

set-option -g history-limit 10000
set-option -g status-interval 1

# color settings
## enable 256 color
set-option -g default-terminal screen-256color

# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'seebi/tmux-colors-solarized'
set -g @colors-solarized 'dark'

set -g default-shell /usr/local/bin/zsh

# status line
## reload every 1sec
set -g status-interval 1
## Right: Host.domain timestamp
set -g status-right "#[fg=cyan]#H %Y/%m/%d %H:%M:%S"
## Center the window list in the status line
set -g status-justify centre
## Enable activity alerts
setw -g monitor-activity on
set -g visual-activity on

# Shortcuts
## Re-set prefix (C-t)
unbind C-b
set -g prefix C-t
bind t send-prefix

## Reload config
bind r source-file ~/.tmux.conf \; display "Reloaded!"

## Move focus pane
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

## Resize panes ('-r' is repeatable option)
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

## Split window
bind | split-window -h \; select-layout even-horizontal
bind - split-window -v \; select-layout even-vertical

# maximize-pane
# https://github.com/pi8027/pane-maximize
bind m run-shell 'maximize-pane -a'

# http://qiita.com/kkabetani/items/e37ac1e4e0b53c418a35
# Setup 'v' to begin selection as in Vim
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Update default binding of 'Enter' to also use copy-pipe
unbind -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

# Initialize TMUX plugin manager
run '~/.tmux/plugins/tpm/tpm'
